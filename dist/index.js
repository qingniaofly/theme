"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var colors=require("@ant-design/colors"),tinycolor=require("@ctrl/tinycolor"),hash=require("@emotion/hash"),stylis=require("stylis");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var hash__default=_interopDefaultLegacy(hash);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toPrimitive(e,o){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===o?String:Number)(e);r=r.call(e,o||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _defineProperty(e,o,r){return(o=_toPropertyKey(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}var defaultPresetColors={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},defaultThemeColor={colorPrimary:"#e23",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#e23",colorTextBase:"",colorBgBase:""},getAlphaColor=function(e,o){return new tinycolor.TinyColor(e).setAlpha(o).toRgbString()},getSolidColor=function(e,o){return new tinycolor.TinyColor(e).darken(o).toHexString()},generateColorPalettes=function(e){e=colors.generate(e);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},generateNeutralColorPalettes=function(e,o){e=e||"#fff",o=o||"#000";return{colorBgBase:e,colorTextBase:o,colorText:getAlphaColor(o,.88),colorTextSecondary:getAlphaColor(o,.65),colorTextTertiary:getAlphaColor(o,.45),colorTextQuaternary:getAlphaColor(o,.25),colorFill:getAlphaColor(o,.15),colorFillSecondary:getAlphaColor(o,.06),colorFillTertiary:getAlphaColor(o,.04),colorFillQuaternary:getAlphaColor(o,.02),colorBgLayout:getSolidColor(e,4),colorBgContainer:getSolidColor(e,0),colorBgElevated:getSolidColor(e,0),colorBgSpotlight:getAlphaColor(o,.85),colorBorder:getSolidColor(e,15),colorBorderSecondary:getSolidColor(e,6)}};function ownKeys$1(o,e){var r,t=Object.keys(o);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(o),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),t.push.apply(t,r)),t}function _objectSpread$1(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(e){_defineProperty(o,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function genThemeColorMap(e,o){var r=o.generateColorPalettes,o=o.generateNeutralColorPalettes,t=e.colorSuccess,l=e.colorWarning,n=e.colorError,c=e.colorInfo,i=e.colorPrimary,a=e.colorBgBase,s=e.colorTextBase,e=(console.log("genThemeColorMap:",e),r(i)),i=r(t),t=r(l),l=r(n),n=r(c);return _objectSpread$1(_objectSpread$1({},o(a,s)),{},{colorPrimaryBg:e[1],colorPrimaryBgHover:e[2],colorPrimaryBorder:e[3],colorPrimaryBorderHover:e[4],colorPrimaryHover:e[5],colorPrimary:e[6],colorPrimaryActive:e[7],colorPrimaryTextHover:e[8],colorPrimaryText:e[9],colorPrimaryTextActive:e[10],colorSuccessBg:i[1],colorSuccessBgHover:i[2],colorSuccessBorder:i[3],colorSuccessBorderHover:i[4],colorSuccessHover:i[4],colorSuccess:i[6],colorSuccessActive:i[7],colorSuccessTextHover:i[8],colorSuccessText:i[9],colorSuccessTextActive:i[10],colorErrorBg:l[1],colorErrorBgHover:l[2],colorErrorBorder:l[3],colorErrorBorderHover:l[4],colorErrorHover:l[5],colorError:l[6],colorErrorActive:l[7],colorErrorTextHover:l[8],colorErrorText:l[9],colorErrorTextActive:l[10],colorWarningBg:t[1],colorWarningBgHover:t[2],colorWarningBorder:t[3],colorWarningBorderHover:t[4],colorWarningHover:t[4],colorWarning:t[6],colorWarningActive:t[7],colorWarningTextHover:t[8],colorWarningText:t[9],colorWarningTextActive:t[10],colorInfoBg:n[1],colorInfoBgHover:n[2],colorInfoBorder:n[3],colorInfoBorderHover:n[4],colorInfoHover:n[4],colorInfo:n[6],colorInfoActive:n[7],colorInfoTextHover:n[8],colorInfoText:n[9],colorInfoTextActive:n[10],colorWhite:"#fff"})}function ownKeys(o,e){var r,t=Object.keys(o);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(o),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),t.push.apply(t,r)),t}function _objectSpread(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(o,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function derivative(e){e=_objectSpread(_objectSpread({},defaultThemeColor),e);return _objectSpread(_objectSpread({defaultPresetColors:defaultPresetColors,defaultThemeColor:defaultThemeColor},e),genThemeColorMap(e,{generateColorPalettes:generateColorPalettes,generateNeutralColorPalettes:generateNeutralColorPalettes}))}function normalizeStyle(e){return stylis.serialize(stylis.compile(e),stylis.middleware([stylis.prefixer,stylis.stringify]))}function uniqueHash(e,o){return hash__default.default("".concat(e.join("%")).concat(o))}function findStyles(e){return Array.from(e.children).filter(function(e){return"STYLE"===e.tagName})}function getStyle(){return findStyles(document.querySelector("head"))}function parseThemeStyle(e){return function t(l){return Object.keys(l).map(function(e){var o,r=l[e];return"object"!==_typeof(r)?"".concat(e,":").concat(r,";"):(o=Object.keys(r).map(function(e){var o=r[e];return"object"===_typeof(o)?(o=t(o).join(""),"".concat(e,"{").concat(o,"}")):"".concat(e,":").concat(o,";")}).join(""),"".concat(e,"{").concat(o,"}"))})}(e).join("")}function parseStyleConfigToCss(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"html",r=e;return"string"!=typeof e&&(e=parseThemeStyle(e),r=normalizeStyle("".concat(o,"{").concat(e,"}"))),r}function useStyleRegister(e,o){var r,o=o||{},t=o.debug,t=void 0!==t&&t,l=o.namespace,l=void 0===l?"html":l,o=o.scoped,o=void 0===o||o,n=[l],c=uniqueHash(n,""),i="data-hash-".concat(c),o=parseStyleConfigToCss(e,o?"[".concat(i,"]"):l),n=uniqueHash(n,o),t=(t&&console.log("useStyleRegister:",e,o),!1),e=getStyle().find(function(e){return e.getAttribute("id")===c});if(e)t=e.getAttribute("data-hash-id")!==n;else{(e=document.createElement("style")).setAttribute("id",c),t=!0,document.head.append(e);try{null!=(r=document.querySelector(l))&&r.setAttribute(i,"")}catch(e){}}return t&&(e.setAttribute("data-hash-id",n),e.innerHTML=o),{style:e,styleId:c,hashId:n}}exports.defaultPresetColors=defaultPresetColors,exports.defaultThemeColor=defaultThemeColor,exports.derivativeThemeColor=derivative,exports.parseStyleConfigToCss=parseStyleConfigToCss,exports.useStyleRegister=useStyleRegister;
